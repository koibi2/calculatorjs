!function(r,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("calc",[],e):"object"==typeof exports?exports.calc=e():r.calc=e()}(this,function(){return function(r){function e(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return r[n].call(u.exports,u,u.exports,e),u.l=!0,u.exports}var t={};return e.m=r,e.c=t,e.i=function(r){return r},e.d=function(r,t,n){e.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:n})},e.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return e.d(t,"a",t),t},e.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},e.p="",e(e.s=2)}([function(r,e,t){"use strict";function n(r){for(var e="";r--;)e+="0";return e}function u(r){var e=String(r).split(/[eE]/);if(1==e.length)return e[0];var t="",n=r<0?"-":"",u=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(t=n+"0.";o++;)t+="0";return t+u.replace(/^\-/,"")}for(o-=u.length;o--;)t+="0";return u+t}function o(r){var e=void 0;e=r<1e-6?u(r):r+"";var t=e.lastIndexOf(".");return t<0?[e,0]:[e.replace(".",""),e.length-t-1]}function i(r,e,t,n){switch(t){case"+":return(r+e)/n;case"-":return(r-e)/n;case"*":return r*e/(n*n);case"/":return r/e}}function f(r,e,t){var u=o(r),f=o(e),a=Math.max(u[1],f[1]);if(0===a)return i(Number(r),Number(e),t,1);var c=Math.pow(10,a);return u[1]!==f[1]&&(u[1]>f[1]?f[0]+=n(u[1]-f[1]):u[0]+=n(f[1]-u[1])),i(Number(u[0]),Number(f[0]),t,c)}function a(r,e){return f(r,e,"+")}function c(r,e){return f(r,e,"-")}function p(r,e){return f(r,e,"*")}function s(r,e){return f(r,e,"/")}function l(r,e){return Math.round(r*Math.pow(10,e))/Math.pow(10,e)}function v(r,e){return Math.floor(r*Math.pow(10,e))/Math.pow(10,e)}r.exports={add:a,sub:c,mul:p,div:s,round:l,floor:v}},function(r,e,t){"use strict";function n(r){for(var e=0,t=void 0,n=[],u=d;r[e];){t=r[e];var o=b[t];if(o)n.push({type:o}),u=d;else if(/[0-9]/.test(t)){if(u==d)n.push({type:i,value:t}),u=h;else if(u==h||u==y){var f=n[n.length-1];f.value+=t}}else if("."==t){if(u!=h)throw"语法错误";u=y;var a=n[n.length-1];a.value+="."}else{if(" "!=t)throw"语法错误";u=d}e++}return n.push({type:v}),n}function u(r){function e(){return b=h[y++]}function t(){b=h[--y]}function u(){var r=0,t=!1;if(e(),b.type==a&&(t=!0,e()),b.type==i)r=b.value;else if(b.type==s&&(r=d(),e(),b.type!=l))throw"缺少 ) ";return r=Number(r),t&&(r=-r),r}function v(){var r=void 0,n=void 0;for(r=u();;){var i=e();if(i.type!=c&&i.type!=p){t();break}n=u(),i.type==c?r=o.mul(r,n):i.type==p&&(r=o.div(r,n))}return r}function d(){var r=void 0,n=void 0;for(r=v();;){var u=e();if(u.type!=f&&u.type!=a){t();break}n=v(),u.type==f?r=o.add(r,n):u.type==a&&(r=o.sub(r,n))}return r}var h=n(r),y=0,b=h[y];return d()}var o=t(0),i=1,f=2,a=3,c=4,p=5,s=6,l=7,v=8,d=1,h=2,y=4,b={"+":f,"-":a,"*":c,"/":p,"(":s,")":l};r.exports={parseExpression:u}},function(r,e,t){"use strict";function n(r){return o(r)}var u=t(1),o=u.parseExpression,i=t(0);for(var f in i)n[f]=i[f];r.exports=n}])});